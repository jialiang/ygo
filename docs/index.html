<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
    <title>Yu-Gi-Oh OCG Secret Rare Effect made with CSS</title>
    <meta name="description" content="" />
    <link rel="icon" type="image/png" href="https://jialiang.github.io/favicon.png" />
    <link rel="canonical" href="https://jialiang.github.io/ygo" />
    <meta name="theme-color" content="#000" />
    <meta name="author" content="Jia Liang, hojialiang@yahoo.com" />
    <style>
      @font-face {
        font-family: "StoneSerif-Semibold";
        font-weight: 400;
        font-style: normal;

        src: url("StoneSerif-Semibold.woff2") format("woff2");
      }

      @font-face {
        font-family: "Yu-Gi-Oh! DFG Leisho 4";
        font-weight: 700;
        font-style: normal;

        src: url("Yu-Gi-Oh!-DFG-Leisho-4-Bold.woff2") format("woff2");
      }

      @font-face {
        font-family: "RodinPro-M";
        font-weight: 400;
        font-style: normal;

        src: url("RodinPro-M.woff2") format("woff2");
      }

      @font-face {
        font-family: "Yu-Gi-Oh! Matrix Small Caps 2";
        font-weight: 400;
        font-style: normal;

        src: url("Yu-Gi-Oh!-Matrix-Small-Caps-2.woff2") format("woff2");
      }

      @font-face {
        font-family: "Lobster";
        font-weight: 400;
        font-style: normal;

        src: url("Lobster-Regular.woff2") format("woff2");
      }

      @font-face {
        font-family: "Roboto";
        font-weight: 400;
        font-style: normal;

        src: url("Roboto-Regular.woff2") format("woff2");
      }

      @font-face {
        font-family: "Roboto";
        font-weight: 700;
        font-style: normal;

        src: url("Roboto-Bold.woff2") format("woff2");
      }
    </style>
    <link rel="stylesheet" href="index.css" />
    <script>
      const preferredWidth = 820;
      const setCardWidth = () => {
        const realWidth = Math.ceil(preferredWidth / Math.min(Math.max(devicePixelRatio, 1), 2.6));
        document.documentElement.style.setProperty("--card-width", realWidth + "px");
      };
      setCardWidth();
    </script>
  </head>
  <body>
    <h1>
      Yu-Gi-Oh OCG<br />
      Secret Rare Effect<br />
      made with CSS<br />
      feat. the Smug Loli
    </h1>
    <h2>The Result:</h2>
    <div class="card-container notranslate" translate="no" lang="ja">
      <div class="width-setter"></div>
      <div class="card">
        <div class="artwork-container">
          <img class="artwork layer-1" src="artwork-full-1250-width.jpg" alt="Madame Verre artwork" />
          <div class="rainbow"></div>
          <div class="noise"></div>
          <div class="mask-1">
            <div class="mask-1-1"></div>
            <div class="mask-1-2"></div>
            <div class="mask-1-3"></div>
            <div class="mask-1-4"></div>
            <div class="mask-1-5"></div>
            <div class="mask-1-6"></div>
          </div>
          <div class="mask-2">
            <div class="mask-2-1">
              <div class="mask-2-1-1"></div>
              <div class="mask-2-1-2"></div>
              <div class="mask-2-1-3"></div>
              <div class="mask-2-1-4"></div>
              <div class="mask-2-1-5"></div>
              <div class="mask-2-1-6"></div>
            </div>
            <div class="mask-2-2"></div>
          </div>
          <img class="artwork layer-2" src="artwork-cutout-1250-width.png" alt="" />
        </div>
        <img class="stock" src="stock-820-width.png" alt="" />
        <span class="name">
          <span class="name-part-1">„Ç¶„Ç£„ÉÉ</span>
          <span class="name-part-2">„ÉÅ„ÇØ„É©„Éï„Éà„Éû„Çπ„Çø„Éº</span>
          <span class="name-part-3">„Éª</span>
          <span class="name-part-4">„É¥„Çß„Éº„É´</span>
        </span>
        <div class="attribute round-foil">
          <img class="background" src="light.svg" alt="ÂÖâ" />
          <div class="mask-1">
            <div class="mask-1-1"></div>
          </div>
          <div class="mask-2">
            <div class="mask-2-1"></div>
            <div class="mask-2-2"></div>
          </div>
        </div>
        <figure class="star-container">
          <div class="star round-foil">
            <img class="background" src="star.png" alt="" />
            <div class="mask-1">
              <div class="mask-1-1"></div>
            </div>
            <div class="mask-2">
              <div class="mask-2-1"></div>
              <div class="mask-2-2"></div>
            </div>
          </div>
          <div class="star round-foil">
            <img class="background" src="star.png" alt="" />
            <div class="mask-1">
              <div class="mask-1-1"></div>
            </div>
            <div class="mask-2">
              <div class="mask-2-1"></div>
              <div class="mask-2-2"></div>
            </div>
          </div>
          <div class="star round-foil">
            <img class="background" src="star.png" alt="" />
            <div class="mask-1">
              <div class="mask-1-1"></div>
            </div>
            <div class="mask-2">
              <div class="mask-2-1"></div>
              <div class="mask-2-2"></div>
            </div>
          </div>
          <div class="star round-foil">
            <img class="background" src="star.png" alt="" />
            <div class="mask-1">
              <div class="mask-1-1"></div>
            </div>
            <div class="mask-2">
              <div class="mask-2-1"></div>
              <div class="mask-2-2"></div>
            </div>
          </div>
          <div class="star round-foil">
            <img class="background" src="star.png" alt="" />
            <div class="mask-1">
              <div class="mask-1-1"></div>
            </div>
            <div class="mask-2">
              <div class="mask-2-1"></div>
              <div class="mask-2-2"></div>
            </div>
          </div>
          <div class="star round-foil">
            <img class="background" src="star.png" alt="" />
            <div class="mask-1">
              <div class="mask-1-1"></div>
            </div>
            <div class="mask-2">
              <div class="mask-2-1"></div>
              <div class="mask-2-2"></div>
            </div>
          </div>
          <div class="star round-foil">
            <img class="background" src="star.png" alt="" />
            <div class="mask-1">
              <div class="mask-1-1"></div>
            </div>
            <div class="mask-2">
              <div class="mask-2-1"></div>
              <div class="mask-2-2"></div>
            </div>
          </div>
          <div class="star round-foil">
            <img class="background" src="star.png" alt="" />
            <div class="mask-1">
              <div class="mask-1-1"></div>
            </div>
            <div class="mask-2">
              <div class="mask-2-1"></div>
              <div class="mask-2-2"></div>
            </div>
          </div>
        </figure>
        <div class="number">DBIC-JP019</div>
        <img
          class="description"
          src="description.svg"
          alt="„Åì„ÅÆ„Ç´„Éº„ÉâÂêç„ÅÆ‚ë†‚ë°„ÅÆÂäπÊûú„ÅØ„Åù„Çå„Åû„ÇåÔºë„Çø„Éº„É≥„Å´ÔºëÂ∫¶„Åó„Åã‰ΩøÁî®„Åß„Åç„Å™„ÅÑ„ÄÇ‚ë†ÔºöËá™ÂàÜ„ÅÆÈ≠îÊ≥ï‰Ωø„ÅÑÊóè„É¢„É≥„Çπ„Çø„Éº„ÅåÁõ∏Êâã„É¢„É≥„Çπ„Çø„Éº„Å®Êà¶Èóò„ÇíË°å„ÅÜ„ÉÄ„É°„Éº„Ç∏Ë®àÁÆóÊôÇ„Å´Áô∫Âãï„Åß„Åç„Çã„ÄÇÊâãÊú≠„Åã„Çâ„Ç´„Éº„ÉâÂêç„ÅåÁï∞„Å™„ÇãÈ≠îÊ≥ï„Ç´„Éº„Éâ„Çí‰ªªÊÑè„ÅÆÊï∞„Å†„ÅëÁõ∏Êâã„Å´Ë¶ã„Åõ„ÄÅ„Åù„ÅÆËá™ÂàÜ„ÅÆ„É¢„É≥„Çπ„Çø„Éº„ÅÆÊîªÊíÉÂäõ„ÉªÂÆàÂÇôÂäõ„ÅØ„Çø„Éº„É≥ÁµÇ‰∫ÜÊôÇ„Åæ„Åß„ÄÅË¶ã„Åõ„ÅüÊï∞√óÔºëÔºêÔºêÔºê„Ç¢„ÉÉ„Éó„Åô„Çã„ÄÇ‚ë°ÔºöÊâãÊú≠„Åã„ÇâÈ≠îÊ≥ï„Ç´„Éº„ÉâÔºëÊûö„ÇíÊç®„Å¶„Å¶Áô∫Âãï„Åß„Åç„Çã„ÄÇÁõ∏Êâã„Éï„Ç£„Éº„É´„Éâ„ÅÆÂÖ®„Å¶„ÅÆË°®ÂÅ¥Ë°®Á§∫„É¢„É≥„Çπ„Çø„Éº„ÅÆÂäπÊûú„Çí„Çø„Éº„É≥ÁµÇ‰∫ÜÊôÇ„Åæ„ÅßÁÑ°Âäπ„Å´„Åô„Çã„ÄÇ„Åì„ÅÆÂäπÊûú„ÅØÁõ∏Êâã„Çø„Éº„É≥„Åß„ÇÇÁô∫Âãï„Åß„Åç„Çã„ÄÇ"
        />
        <div class="atk-def">ATK/1000&nbsp;&nbsp;DEF/2800</div>
        <div class="passcode">21522601</div>
        <div class="copyright">
          <span class="symbol">¬©</span>
          <span class="kazuki">È´òÊ©ãÂíåÂ∏å</span>
          <span class="studio-dice">„Çπ„Çø„Ç∏„Ç™¬∑„ÉÄ„Ç§„Çπ</span>
          <span class="shueisha">/ÈõÜËã±Á§æ</span>
        </div>
        <div class="shadow"></div>
      </div>
    </div>
    <div class="text">
      <blockquote>
        <p>
          I do not like this painting, Charlie.<br />
          It's smug aura mocks me.
        </p>
        - <cite>Frank Reynolds</cite> üì∫
      </blockquote>
      <video controls>
        <source
          src="https://rawcdn.githack.com/jialiang/huge-assets/6152dc7c30bb219928de7b2f957234bb6fc55216/ygo/smug-aura.mp4"
          type="video/mp4"
        />
      </video>

      <h2 id="technical">Technical</h2>
      <p>
        The holofoil effect is done using a technique involving mix-blend-move as described by Jonny Scholes in
        <a href="https://codepen.io/jonnyscholes/post/css-blend-modes" target="_blank" rel="noopener noreferrer"
          >Fudging masks using CSS blend modes</a
        >
        along with the mask-image property. The holographic rainbow card name effect is done using the background-clip
        method described in the CSS-Tricks article
        <a href="https://css-tricks.com/how-to-do-knockout-text/" target="_blank" rel="noopener noreferrer"
          >How To Do Knockout Text</a
        >
        and animating the background-position.
      </p>
      <p>
        In some devices, you may notice that the size of the card is fairly large. This is because some monitors
        don&#39;t have a high enough pixel density to accurately depict the finer details of the card. If I were to
        scale it down to around the size of an actual Yu-Gi-Oh card which is 8.6cm x 5.9cm (3.25 inch x 2.25 inch), most
        of the text will become a messy and illegible blob. I figure that a width of 820 physical pixels gives a decent
        result where the strokes of the characters are crisp and clean. A script resizes the card appropriately on load
        based on the pixel density of the monitor.
      </p>
      <p>
        The effect text is actually an SVG image. In a previous version, it consists of real selectable text but in
        devices where the operating system or browser enforces a minimum font size, the text becomes larger than
        intended and this messes up the layout. The ruby text was particularly susceptible to this problem due to its
        very small font size. It is not possible to scale the rest of the card up so that the smallest font stay above
        the minimum font size. For example, I've read that Chrome in CJK and Thai locale have a default minimum font
        size of 12px. The card would need to be around 4x bigger to ensure that even the smallest text is at least 12px
        big. A trick I tried to bypass this restriction was by multiplying the font size by 4 and then scaling it down
        to a quarter of its size using CSS transforms. While this method works, this causes another problem to occur in
        Safari. Using this trick in Safari causes the text to become noticibly thinner and jarring outline jittering to
        occur during animations. I think this might be due to subpixel antialiasing being disabled on
        hardware-accelerated text as this problem doesn't occur if I scale using the zoom CSS property instead. The zoom
        property, being non-standard, has its own set of problems so I can't use that either. At this point, I tried
        making the entire thing an inline SVG and use SVG's text element to render the text. Unfortunely, an issue
        occured where the letter spacing is different when displayed in the browser compared to my vector image editing
        programme, Inkscape. Given more time, I can fix this but at this point I just want to get it over with so I
        converted the text into SVG paths, embed the SVG image using the img element and set the actual text as the img
        element's alt attribute. The tradeoff from me using this approach is that the text is now no longer
        user-selectable, I can't take advantage of font hinting and the file size of the webpage is bigger.
      </p>
      <p>
        On Safari you may encounter a browser bug where the horizontal line of the holofoil stop moving after a hard
        refresh, just refresh the page again and it should return to normal.
      </p>
      <p>
        I've tested this project in Firefox and Chrome on Windows 10 and Android, and Chrome and Safari on MacOS Mojave.
        I've also tested it on monitors with device pixel ratio of 1x, 2x and 3x. It definetely doesn't work on Internet
        Explorer 11. I wouldn't say its particularly performant but it runs at an acceptable framerate on a 2015 MacBook
        Pro and an 2016 Asus Zenfone 3 although expect warm devices and spinning fans. The total page weight on load is
        around 2MB gzipped. I did not bother with responsive images but I did subset the font files and optimize the
        images.
      </p>

      <h2 id="design">Design</h2>
      <p>
        I use the
        <a href="official-proxy.png" target="_blank" rel="noopener noreferrer">official proxy</a>
        as well as my own real life secret rare copy as reference. The official proxy is from the
        <a href="https://yu-gi-oh.jp/news_detail.php?page=details&&id=497" target="_blank" rel="noopener noreferrer"
          >Infinity Chasers announcement page</a
        >. GIMP is used for image editing.
      </p>
      <p>
        For the card stock, I use
        <a href="https://www.deviantart.com/icycatelf" target="_blank" rel="noopener noreferrer">Icycatelf&#39;s</a>
        <a
          href="https://www.deviantart.com/icycatelf/art/YGO-Series-10-Master-PSD-676448168"
          target="_blank"
          rel="noopener noreferrer"
          >YGO Series 10 Master PSD</a
        >
        as my base. I adjusted the brightness, contrast and saturation to match the colors in the official proxy. Next I
        scaled up the resolution of the officialy proxy using
        <a href="https://github.com/lltcggie/waifu2x-caffe" target="_blank" rel="noopener noreferrer">waifu2x-caffe</a>
        and transplanted parts of it onto my base card stock to make it more convincing. By transplant, I basically
        copy-pasted parts of it and use the smudge tool to blur the edges of the transplanted section. This is most
        notable on the pillars on the left and right of the artwork and also the space left of the stars.
      </p>
      <p>
        For the artwork, I use the high resolution full artwork which I think is created by
        <a
          href="https://www.deviantart.com/yugi-master/art/Witchcraft-Master-Verre-FULL-ARTWORK-785468202"
          target="_blank"
          rel="noopener noreferrer"
          >Yugi-Master</a
        >, not too sure on who's the original artist. Part of the artwork is affected by the holofoil while the other is
        not so I have to seperate the two parts. I decrease the brightness and increase the contrast of the background.
        The former is to create a darker image so that the shiny parts will stand out more while the latter is to
        restore the intensity of the highlights so that the image doesn't look dull and washed-out. For the cutout, I
        increased the brightness, contrast and sharpness of the image to make it standout more. This difference is
        brightness of the background and cutout also produces a mild parallax effect during the animation.
      </p>
      <p>
        The design of this webpage is based on this
        <a
          href="https://twitter.com/yugioh_dl_info/status/1306427658838913025"
          target="_blank"
          rel="noopener noreferrer"
          >Madame Verre 9/17 Cute Day Promotional Image</a
        >.
      </p>

      <h2 id="translation">Translation</h2>

      <table>
        <tbody>
          <tr>
            <th>Name</th>
            <td>Witchcrafter Mademe Verre</td>
          </tr>
          <tr>
            <th>Attribute</th>
            <td>Light</td>
          </tr>
          <tr>
            <th>Level</th>
            <td>8</td>
          </tr>
          <tr>
            <th>Number</th>
            <td>DBIC-JP019</td>
          </tr>
          <tr>
            <th>Type</th>
            <td>Spellcaster/Effect</td>
          </tr>
          <tr>
            <th>Effect</th>
            <td>
              During damage calculation, if your Spellcaster monster battles an opponent&#39;s monster (Quick Effect):
              You can reveal any number of Spells with different names in your hand, and if you do, your battling
              monster gains 1000 ATK/DEF for each card revealed, until the end of this turn. (Quick Effect): You can
              discard 1 Spell; negate the effects of all face-up monsters your opponent currently controls, until the
              end of this turn. You can only use each effect of &quot;Witchcrafter Madame Verre&quot; once per turn.
            </td>
          </tr>
          <tr>
            <th>Attack</th>
            <td>1000</td>
          </tr>
          <tr>
            <th>Defence</th>
            <td>2800</td>
          </tr>
          <tr>
            <th>Passcode</th>
            <td>21522601</td>
          </tr>
          <tr>
            <th>Copyright</th>
            <td>¬©Kazuki Takahashi, Studio Dice/Konami</td>
          </tr>
        </tbody>
      </table>

      <h2 id="thanks">Thanks</h2>
      <p>Thanks you to Bushin from the Yugioh Card Maker forums for making avilable the fonts.</p>
      <ul>
        <li>Yu-Gi-Oh! DFG Leisho 4 belongs to DynaLab Inc.</li>
        <li>FOT-Rodin Pro belongs to Fontworks Japan Inc.</li>
        <li>Yu-Gi-Oh! Matrix Small Caps 2 belongs to Emigre Graphics.</li>
        <li>StoneSerif-Semibold belongs to Adobe Systems Inc.</li>
      </ul>
      <p>
        The card stock and star symbol is from
        <a href="https://www.deviantart.com/icycatelf" target="_blank" rel="noopener noreferrer">Icycatelf&#39;s</a>
        <a
          href="https://www.deviantart.com/icycatelf/art/YGO-Series-10-Master-PSD-676448168"
          target="_blank"
          rel="noopener noreferrer"
          >YGO Series 10 Master PSD</a
        >. Modified it from the original.
      </p>
      <p>
        The attribute symbol is made by
        <a href="https://yugipedia.com/wiki/Special:Contributions/Falzar_FZ" target="_blank" rel="noopener noreferrer"
          >Falzar FZ</a
        >
        and sourced from
        <a href="https://yugipedia.com/wiki/File:LIGHT.svg" target="_blank" rel="noopener noreferrer">Yugipedia wiki</a
        >. Modified it from the original.
      </p>
    </div>
  </body>
</html>
